{"ast":null,"code":"import*as jwt from\"jsonwebtoken\";export var isLocalDev=process.env.NODE_ENV==='development';var host=window.location.host.split('.');var applicationId='daml-ui-template';export var ledgerId=isLocalDev?applicationId:host[0];var apiUrl=host.slice(1);apiUrl.unshift('api');export var httpBaseUrl=isLocalDev?undefined:'https://'+apiUrl.join('.')+(window.location.port?':'+window.location.port:'')+'/data/'+ledgerId+'/';// Unfortunately, the development server of `create-react-app` does not proxy\n// websockets properly. Thus, we need to bypass it and talk to the JSON API\n// directly in development mode.\nexport var wsBaseUrl=isLocalDev?'ws://localhost:7575/':undefined;export var createToken=function createToken(party){return jwt.sign({\"https://daml.com/ledger-api\":{ledgerId:ledgerId,applicationId:applicationId,admin:true,actAs:[party],readAs:[party]}},\"secret\");};var loginUrl=host.slice(1);loginUrl.unshift('login');export var dablLoginUrl=loginUrl.join('.')+(window.location.port?':'+window.location.port:'')+'/auth/login?ledgerId='+ledgerId;export var damlPartyKey=applicationId+\".daml.party\";export var damlTokenKey=applicationId+\".daml.token\";","map":{"version":3,"sources":["C:/Users/bartc/Documents/Github/EF/ef-app/ui/src/config.ts"],"names":["jwt","isLocalDev","process","env","NODE_ENV","host","window","location","split","applicationId","ledgerId","apiUrl","slice","unshift","httpBaseUrl","undefined","join","port","wsBaseUrl","createToken","party","sign","admin","actAs","readAs","loginUrl","dablLoginUrl","damlPartyKey","damlTokenKey"],"mappings":"AAAA,MAAO,GAAKA,CAAAA,GAAZ,KAAqB,cAArB,CAEA,MAAO,IAAMC,CAAAA,UAAU,CAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,GAAyB,aAA5C,CAEP,GAAIC,CAAAA,IAAI,CAAGC,MAAM,CAACC,QAAP,CAAgBF,IAAhB,CAAqBG,KAArB,CAA2B,GAA3B,CAAX,CAEA,GAAMC,CAAAA,aAAa,CAAG,kBAAtB,CACA,MAAO,IAAMC,CAAAA,QAAQ,CAAGT,UAAU,CAAGQ,aAAH,CAAmBJ,IAAI,CAAC,CAAD,CAAlD,CAEP,GAAIM,CAAAA,MAAM,CAAGN,IAAI,CAACO,KAAL,CAAW,CAAX,CAAb,CACAD,MAAM,CAACE,OAAP,CAAe,KAAf,EAEA,MAAO,IAAMC,CAAAA,WAAW,CAAGb,UAAU,CAAGc,SAAH,CAAgB,WAAaJ,MAAM,CAACK,IAAP,CAAY,GAAZ,CAAb,EAAiCV,MAAM,CAACC,QAAP,CAAgBU,IAAhB,CAAuB,IAAMX,MAAM,CAACC,QAAP,CAAgBU,IAA7C,CAAoD,EAArF,EAA2F,QAA3F,CAAsGP,QAAtG,CAAiH,GAA/J,CAEP;AACA;AACA;AACA,MAAO,IAAMQ,CAAAA,SAAS,CAAGjB,UAAU,CAAG,sBAAH,CAA4Bc,SAAxD,CAEP,MAAO,IAAMI,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,QAAoBpB,CAAAA,GAAG,CAACqB,IAAJ,CAAS,CAAE,8BAA+B,CAAEX,QAAQ,CAARA,QAAF,CAAYD,aAAa,CAAbA,aAAZ,CAA2Ba,KAAK,CAAE,IAAlC,CAAwCC,KAAK,CAAE,CAACH,KAAD,CAA/C,CAAwDI,MAAM,CAAE,CAACJ,KAAD,CAAhE,CAAjC,CAAT,CAAuH,QAAvH,CAApB,EAApB,CAEP,GAAIK,CAAAA,QAAQ,CAAGpB,IAAI,CAACO,KAAL,CAAW,CAAX,CAAf,CACAa,QAAQ,CAACZ,OAAT,CAAiB,OAAjB,EAEA,MAAO,IAAMa,CAAAA,YAAY,CAAGD,QAAQ,CAACT,IAAT,CAAc,GAAd,GAAsBV,MAAM,CAACC,QAAP,CAAgBU,IAAhB,CAAuB,IAAMX,MAAM,CAACC,QAAP,CAAgBU,IAA7C,CAAoD,EAA1E,EAAgF,uBAAhF,CAA0GP,QAA/H,CAEP,MAAO,IAAMiB,CAAAA,YAAY,CAAGlB,aAAa,CAAG,aAArC,CACP,MAAO,IAAMmB,CAAAA,YAAY,CAAGnB,aAAa,CAAG,aAArC","sourcesContent":["import * as jwt from \"jsonwebtoken\";\n\nexport const isLocalDev = process.env.NODE_ENV === 'development';\n\nlet host = window.location.host.split('.')\n\nconst applicationId = 'daml-ui-template'\nexport const ledgerId = isLocalDev ? applicationId : host[0];\n\nlet apiUrl = host.slice(1)\napiUrl.unshift('api')\n\nexport const httpBaseUrl = isLocalDev ? undefined : ('https://' + apiUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/data/' + ledgerId + '/');\n\n// Unfortunately, the development server of `create-react-app` does not proxy\n// websockets properly. Thus, we need to bypass it and talk to the JSON API\n// directly in development mode.\nexport const wsBaseUrl = isLocalDev ? 'ws://localhost:7575/' : undefined;\n\nexport const createToken = (party : string) => jwt.sign({ \"https://daml.com/ledger-api\": { ledgerId, applicationId, admin: true, actAs: [party], readAs: [party] } }, \"secret\")\n\nlet loginUrl = host.slice(1)\nloginUrl.unshift('login')\n\nexport const dablLoginUrl = loginUrl.join('.') + (window.location.port ? ':' + window.location.port : '') + '/auth/login?ledgerId=' + ledgerId;\n\nexport const damlPartyKey = applicationId + \".daml.party\";\nexport const damlTokenKey = applicationId + \".daml.token\";\n"]},"metadata":{},"sourceType":"module"}