(this["webpackJsonpef-app"]=this["webpackJsonpef-app"]||[]).push([[0],{278:function(e,t,a){e.exports=a.p+"static/media/logo.4ac65da8.svg"},316:function(e,t,a){e.exports=a(550)},326:function(e,t){},328:function(e,t){},341:function(e,t){},343:function(e,t){},371:function(e,t){},372:function(e,t){},377:function(e,t){},379:function(e,t){},386:function(e,t){},405:function(e,t){},550:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(12),o=a.n(l),c=a(611),i=a(612),s=a(9),u=a(41),p=a.n(u),m={palette:{primary:{main:"#536DFE",light:p()("#536DFE").lighten(7.5).toHexString(),dark:p()("#536DFE").darken(15).toHexString()},secondary:{main:"#FF5C93",light:p()("#FF5C93").lighten(7.5).toHexString(),dark:p()("#FF5C93").darken(15).toHexString(),contrastText:"#FFFFFF"},warning:{main:"#FFC260",light:p()("#FFC260").lighten(7.5).toHexString(),dark:p()("#FFC260").darken(15).toHexString()},success:{main:"#3CD4A0",light:p()("#3CD4A0").lighten(7.5).toHexString(),dark:p()("#3CD4A0").darken(15).toHexString()},info:{main:"#9013FE",light:p()("#9013FE").lighten(7.5).toHexString(),dark:p()("#9013FE").darken(15).toHexString()},text:{primary:"#4A4A4A",secondary:"#6E6E6E",hint:"#B9B9B9"},background:{default:"#F6F7FF",light:"#F3F5FF"}},customShadows:{widget:"0px 3px 11px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetDark:"0px 3px 18px 0px #4558A3B3, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A",widgetWide:"0px 12px 33px 0px #E8EAFC, 0 3px 3px -2px #B2B2B21A, 0 1px 8px 0 #9A9A9A1A"}},d=a(287),f={default:Object(d.a)(Object(s.a)(Object(s.a)({},m),{typography:{h1:{fontSize:"3rem"},h2:{fontSize:"2rem"},h3:{fontSize:"1.64rem"},h4:{fontSize:"1.5rem"},h5:{fontSize:"1.285rem"},h6:{fontSize:"1.142rem"}}}))},b=a(170),g=a(51),y=a(17),E=a(276),h=window.location.host.split("."),C=h[0],k=h.slice(1);k.unshift("api");var v="https://"+k.join(".")+(window.location.port?":"+window.location.port:"")+"/data/"+C+"/",O=h.slice(1);O.unshift("login");var x=O.join(".")+(window.location.port?":"+window.location.port:"")+"/auth/login?ledgerId="+C,j=a(14),w=r.a.createContext({isAuthenticated:!1}),F=r.a.createContext({});function S(e,t){switch(t.type){case"LOGIN_SUCCESS":return{isAuthenticated:!0,token:t.token,party:t.party};case"LOGIN_FAILURE":case"SIGN_OUT_SUCCESS":return{isAuthenticated:!1}}}var B=function(e){var t=e.children,a=localStorage.getItem("ef-app.daml.party"),n=localStorage.getItem("ef-app.daml.token"),l=a&&n?{isAuthenticated:!0,token:n,party:a}:{isAuthenticated:!1},o=r.a.useReducer(S,l),c=Object(j.a)(o,2),i=c[0],s=c[1];return r.a.createElement(w.Provider,{value:i},r.a.createElement(F.Provider,{value:s},t))};function A(){var e=r.a.useContext(w);if(void 0===e)throw new Error("useUserState must be used within a UserProvider");return e}function N(){var e=r.a.useContext(F);if(void 0===e)throw new Error("useUserDispatch must be used within a UserProvider");return e}function I(e,t,a,n,r,l){if(l(!1),r(!0),t){var o=a||function(e){return E.sign({"https://daml.com/ledger-api":{ledgerId:C,applicationId:"ef-app",admin:!0,actAs:[e],readAs:[e]}},"secret")}(t);localStorage.setItem("ef-app.daml.party",t),localStorage.setItem("ef-app.daml.token",o),e({type:"LOGIN_SUCCESS",token:o,party:t}),l(!1),r(!1),n.push("/app")}else e({type:"LOGIN_FAILURE"}),l(!0),r(!1)}var D=function(){window.location.assign("https://".concat(x))};var T=a(587),R=a(290),L=a(94),z=a(589),W=a(613),U=a(586),q=Object(W.a)((function(e){return Object(U.a)({container:{height:"100vh",width:"100vw",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0},paperRoot:{display:"flex",flexDirection:"column",alignItems:"center",paddingTop:e.spacing(8),paddingBottom:e.spacing(8),paddingLeft:e.spacing(6),paddingRight:e.spacing(6),maxWidth:404},errorCode:{marginBottom:e.spacing(5),fontSize:84,fontWeight:600},safetyText:{marginBottom:e.spacing(5),fontWeight:300,color:e.palette.text,textAlign:"center"},backButton:{textTransform:"none",fontSize:22}})})),V=function(){var e=q();return r.a.createElement(T.a,{container:!0,className:e.container},r.a.createElement(R.a,{classes:{root:e.paperRoot}},r.a.createElement(L.a,{variant:"h3",color:"primary",className:e.errorCode},"404"),r.a.createElement(L.a,{variant:"h5",color:"primary",className:e.safetyText},"Oops. Looks like the page you're looking for no longer exists"),r.a.createElement(z.a,{variant:"contained",color:"primary",component:g.b,to:"/",size:"large",className:e.backButton},"Back to Home")))},P=a(594),H=a(616),Y=a(291),M=Object(W.a)((function(e){return Object(U.a)({container:{height:"100vh",width:"100vw",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",top:0,left:0},logotypeContainer:{backgroundColor:e.palette.background.default,width:"60%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},logotypeImage:{width:165,marginBottom:e.spacing(4)},logotypeText:{color:"#3a478f",fontWeight:500,fontSize:64},formContainer:{width:"40%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},form:{width:320},tab:{fontWeight:400,fontSize:18},dablLoginButton:{marginBottom:e.spacing(2)},errorMessage:{textAlign:"center"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},textField:{borderBottomColor:e.palette.background.light},formButtons:{width:"100%",marginTop:e.spacing(4),display:"flex",justifyContent:"space-between",alignItems:"center"},loginLoader:{marginLeft:e.spacing(4)}})})),G=a(278),_=a.n(G),Q=Object(y.g)((function(e){var t=M(),a=N(),l=Object(n.useState)(!1),o=Object(j.a)(l,2),c=o[0],i=o[1],s=Object(n.useState)(!1),u=Object(j.a)(s,2),p=u[0],m=u[1],d=Object(n.useState)(""),f=Object(j.a)(d,2),b=f[0],g=f[1],y=Object(n.useState)(""),E=Object(j.a)(y,2),h=E[0],C=E[1];return r.a.createElement(T.a,{container:!0,className:t.container},r.a.createElement("div",{className:t.logotypeContainer},r.a.createElement("img",{src:_.a,alt:"logo",className:t.logotypeImage}),r.a.createElement(L.a,{className:t.logotypeText},"App Template")),r.a.createElement("div",{className:t.formContainer},r.a.createElement("div",{className:t.form},r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{in:p},r.a.createElement(L.a,{color:"secondary",className:t.errorMessage},"Something is wrong with your login or password :(")),r.a.createElement(r.a.Fragment,null,r.a.createElement(z.a,{className:t.dablLoginButton,variant:"contained",color:"primary",size:"large",onClick:D},"Log in with DABL"),r.a.createElement(L.a,null,"OR")),r.a.createElement(H.a,{id:"email",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:b,onChange:function(e){return g(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&I(a,b,h,e.history,i,m)},margin:"normal",placeholder:"Username",type:"email",fullWidth:!0}),r.a.createElement(H.a,{id:"password",InputProps:{classes:{underline:t.textFieldUnderline,input:t.textField}},value:h,onChange:function(e){return C(e.target.value)},onKeyDown:function(t){"Enter"===t.key&&I(a,b,h,e.history,i,m)},margin:"normal",placeholder:"Password",type:"password",fullWidth:!0}),r.a.createElement("div",{className:t.formButtons},c?r.a.createElement(P.a,{size:26,className:t.loginLoader}):r.a.createElement(z.a,{disabled:0===b.length,onClick:function(){return I(a,b,h,e.history,i,m)},variant:"contained",color:"primary",size:"large"},"Login"))))))})),J=a(24),K=a.n(J),X=a(595),Z=a(596),$=a(597),ee=a(279),te=a.n(ee),ae=Object(W.a)((function(e){return Object(U.a)({logotype:{color:"white",marginLeft:e.spacing(2.5),marginRight:e.spacing(2.5),fontWeight:500,fontSize:18,whiteSpace:"nowrap"},appBar:{width:"100vw",zIndex:e.zIndex.drawer+1},toolbar:{paddingLeft:e.spacing(2),paddingRight:e.spacing(2)},grow:{flexGrow:1},headerMenuButton:{marginLeft:e.spacing(2),padding:e.spacing(.5)},headerIcon:{fontSize:28,color:"rgba(255, 255, 255, 0.35)"}})})),ne=Object(y.g)((function(e){var t=e.history,a=ae(),n=A(),l=N();return r.a.createElement(X.a,{position:"fixed",className:a.appBar},r.a.createElement(Z.a,{className:a.toolbar},r.a.createElement(L.a,{variant:"h6",className:a.logotype},"DAML App Template"),r.a.createElement("div",{className:a.grow}),n.isAuthenticated&&r.a.createElement(L.a,{variant:"h6"},"User: ",n.party),r.a.createElement($.a,{"aria-haspopup":"true",color:"inherit",className:a.headerMenuButton,"aria-controls":"profile-menu",onClick:function(e){return function(e,t){localStorage.removeItem("daml.party"),localStorage.removeItem("daml.token"),e({type:"SIGN_OUT_SUCCESS"}),t.push("/login")}(l,t)}},r.a.createElement(te.a,{className:a.headerIcon}))))})),re=a(619),le=a(593),oe=a(553),ce=a(598),ie=a(599),se=a(93),ue=a.n(se),pe=Object(W.a)((function(e){return Object(U.a)({drawer:{width:250,flexShrink:0,whiteSpace:"nowrap"},toolbar:Object(s.a)({},e.mixins.toolbar),linkRoot:{},link:{textDecoration:"none","&:hover, &:focus":{backgroundColor:e.palette.background.light}},linkActive:{backgroundColor:e.palette.background.light},linkIcon:{marginRight:e.spacing(1),color:e.palette.text.secondary+"99",width:24,display:"flex",justifyContent:"center"},linkIconActive:{marginRight:e.spacing(1),width:24,display:"flex",justifyContent:"center",color:e.palette.primary.main},linkText:{padding:0,fontSize:16,color:e.palette.text.secondary+"CC"},linkTextActive:{padding:0,fontSize:16,color:e.palette.text.primary}})})),me=function(e){var t=e.path,a=e.icon,n=e.label,l=e.location,o=pe(),c=t&&(l.pathname===t||-1!==l.pathname.indexOf(t));return r.a.createElement(oe.a,{button:!0,component:g.b,to:t,className:o.link,classes:{root:c?o.linkActive:o.linkRoot},disableRipple:!0},r.a.createElement(ce.a,{className:c?o.linkIconActive:o.linkIcon},a),r.a.createElement(ie.a,{classes:{primary:c?o.linkTextActive:o.linkText},primary:n}))},de=Object(y.g)((function(e){var t=e.location,a=pe();return r.a.createElement(re.a,{open:!0,variant:"permanent",className:a.drawer,classes:{paper:a.drawer}},r.a.createElement("div",{className:a.toolbar}),r.a.createElement(le.a,{style:{width:"100%"}},r.a.createElement(me,{key:1,label:"WholeSale Contract",path:"/app/wholesale",icon:r.a.createElement(ue.a,null),location:t}),r.a.createElement(me,{key:2,label:"EF Contract",path:"/app/retail",icon:r.a.createElement(ue.a,null),location:t}),r.a.createElement(me,{key:3,label:"Funding Request",path:"/app/fundingrequest",icon:r.a.createElement(ue.a,null),location:t}),r.a.createElement(me,{key:4,label:"Funding Approved",path:"/app/fundingapproved",icon:r.a.createElement(ue.a,null),location:t})))})),fe=a(19),be=a.n(fe),ge=a(40),ye=a(605),Ee=a(615),he=a(606),Ce=a(607),ke=a(608),ve=a(609),Oe=a(610),xe=a(35),je=a(39),we=a(601),Fe=a(602),Se=a(603),Be=a(604),Ae=a(614),Ne=a(618),Ie=a(592),De=a(600);function Te(e){var t=Object(n.useState)(e.defaultValue),a=Object(j.a)(t,2),l=a[0],o=a[1];var c=Object.entries(e.fields);return r.a.createElement(we.a,{open:e.open,onClose:function(){return e.onClose(null)},maxWidth:"sm",fullWidth:!0},r.a.createElement(Fe.a,null,e.title),r.a.createElement(Se.a,null,c.map((function(e,t){return function(e,t){var a=Object(j.a)(e,2),n=a[0],c=a[1];return"selection"===c.type?r.a.createElement(Ie.a,{key:t,fullWidth:!0},r.a.createElement(Ne.a,{required:!0},c.label),r.a.createElement(Ae.a,{value:l[n],defaultValue:"",onChange:function(e){return o(Object(s.a)(Object(s.a)({},l),{},Object(je.a)({},n,e.target.value)))}},c.items.map((function(e){return r.a.createElement(De.a,{key:e,value:e},e)})))):r.a.createElement(H.a,{required:!0,autoFocus:!0,fullWidth:!0,key:t,label:c.label,type:c.type,onChange:function(e){return o(Object(s.a)(Object(s.a)({},l),{},Object(je.a)({},n,e.target.value)))},InputLabelProps:{shrink:!0,required:!0},placeholder:"date"===c.type?"YYYY-MM-DD":""})}(e,t)}))),r.a.createElement(Be.a,null,r.a.createElement(z.a,{onClick:function(){return e.onClose(null)},color:"primary"},"Cancel"),r.a.createElement(z.a,{onClick:function(){return e.onClose(l)},color:"primary"},"Okay")))}var Re=Object(W.a)((function(e){return Object(U.a)({tableCell:{verticalAlign:"top",paddingTop:6,paddingBottom:6,fontSize:"0.75rem"},tableCellButton:{verticalAlign:"center",paddingTop:0,paddingBottom:0,fontSize:"0.75rem"},tableRow:{height:"auto"},textField:{fontSize:"0.75rem"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},choiceButton:{paddingTop:0,paddingBottom:0}})}));function Le(){var e=Object(J.useStreamQueries)(xe.EF.WholesaleContract).contracts,t=Re(),a=Object(J.useParty)(),l=Object(J.useLedger)(),o=((new Date).toISOString().slice(0,10),{open:!1,title:"New WholeSale Contract",defaultValue:{originator:a,dealer:a,eftype:"Lease",startDate:"",endDate:"",duration:"",amount:"0",rate:"0.0",assetType:"Van",vin:"",closingContract:"",status:""},fields:{originator:{label:"Originator",type:"text"},dealer:{label:"Dealer",type:"text"},eftype:{label:"EF Type",type:"selection",items:["Loan","Lease"]},startDate:{label:"Start Date",type:"date"},endDate:{label:"End Date",type:"date"},duration:{label:"Duration",type:"selection",items:["3yr","1yr"]},amount:{label:"Amount",type:"number"},rate:{label:"Rate",type:"number"},assetType:{label:"Asset Type",type:"selection",items:["Van","Tractor"]},vin:{label:"Vin",type:"text"},closingContract:{label:"Closing Contract",type:"text"},status:{label:"Status",type:"selection",items:["Funded","Closed"]}},onClose:function(){var e=Object(ge.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),c=Object(n.useState)(o),i=Object(j.a)(c,2),u=i[0],p=i[1];return r.a.createElement(ye.a,null,r.a.createElement(Ee.a,null,r.a.createElement(Te,u),r.a.createElement(z.a,{color:"primary",size:"small",className:t.choiceButton,variant:"contained",onClick:function(){return function(){function e(){return(e=Object(ge.a)(be.a.mark((function e(t){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(Object(s.a)(Object(s.a)({},o),{},{open:!1})),t){e.next=3;break}return e.abrupt("return");case 3:return a=Object(s.a)({},t),e.next=6,l.create(xe.EF.WholesaleContract,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p(Object(s.a)(Object(s.a)({},o),{},{open:!0,onClose:function(t){return e.apply(this,arguments)}}))}()}},"Create New Asset"),r.a.createElement(he.a,{size:"small"},r.a.createElement(Ce.a,null,r.a.createElement("div",null,r.a.createElement("p",null,"WholeSaleContracts")),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{key:0}," Contract"),r.a.createElement(ve.a,{key:1}," Originator"),r.a.createElement(ve.a,{key:2}," Dealer"),r.a.createElement(ve.a,{key:3}," Amount"),r.a.createElement(ve.a,{key:4}," Rate"))),r.a.createElement(Oe.a,null,e.map((function(e){return r.a.createElement(ke.a,{key:e.contractId},r.a.createElement(ve.a,{key:0},e.contractId),r.a.createElement(ve.a,{key:1},e.payload.originator),r.a.createElement(ve.a,{key:2},e.payload.dealer),r.a.createElement(ve.a,{key:3},e.payload.amount),r.a.createElement(ve.a,{key:4},e.payload.rate))}))))))}function ze(e){var t=Object(n.useState)(e.defaultValue),a=Object(j.a)(t,2),l=a[0],o=a[1];var c=Object.entries(e.fields);return r.a.createElement(we.a,{open:e.open,onClose:function(){return e.onClose(null)},maxWidth:"sm",fullWidth:!0},r.a.createElement(Fe.a,null,e.title),r.a.createElement(Se.a,null,c.map((function(e,t){return function(e,t){var a=Object(j.a)(e,2),n=a[0],c=a[1];return"selection"===c.type?r.a.createElement(Ie.a,{key:t,fullWidth:!0},r.a.createElement(Ne.a,{required:!0},c.label),r.a.createElement(Ae.a,{value:l[n],defaultValue:"",onChange:function(e){return o(Object(s.a)(Object(s.a)({},l),{},Object(je.a)({},n,e.target.value)))}},c.items.map((function(e){return r.a.createElement(De.a,{key:e,value:e},e)})))):r.a.createElement(H.a,{required:!0,autoFocus:!0,fullWidth:!0,key:t,label:c.label,type:c.type,onChange:function(e){return o(Object(s.a)(Object(s.a)({},l),{},Object(je.a)({},n,e.target.value)))},InputLabelProps:{shrink:!0,required:!0},placeholder:"date"===c.type?"YYYY-MM-DD":""})}(e,t)}))),r.a.createElement(Be.a,null,r.a.createElement(z.a,{onClick:function(){return e.onClose(null)},color:"primary"},"Cancel"),r.a.createElement(z.a,{onClick:function(){return e.onClose(l)},color:"primary"},"Okay")))}var We=Object(W.a)((function(e){return Object(U.a)({tableCell:{verticalAlign:"top",paddingTop:6,paddingBottom:6,fontSize:"0.75rem"},tableCellButton:{verticalAlign:"center",paddingTop:0,paddingBottom:0,fontSize:"0.75rem"},tableRow:{height:"auto"},textField:{fontSize:"0.75rem"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},choiceButton:{paddingTop:0,paddingBottom:0}})}));function Ue(){var e=Object(J.useStreamQueries)(xe.EF.EFContract).contracts,t=We(),a=Object(J.useParty)(),l=Object(J.useLedger)(),o=((new Date).toISOString().slice(0,10),{open:!1,title:"New RetailContract",defaultValue:{originator:a,business:a,eftype:"Lease",startdate:"",duration:"",amount:"0",rate:"0.0",assetType:"Van",vin:"",businessCreditScore:"",dealerCommission:""},fields:{originator:{label:"Originator",type:"text"},business:{label:"Business",type:"text"},eftype:{label:"EF Type",type:"selection",items:["Loan","Lease"]},startdate:{label:"Date of Appraisal",type:"date"},duration:{label:"Duration",type:"selection",items:["3yr","1yr"]},amount:{label:"Amount",type:"number"},rate:{label:"Rate",type:"number"},assetType:{label:"Asset Type",type:"selection",items:["Van","Tractor"]},vin:{label:"Vin",type:"text"},businessCreditScore:{label:"Business Score",type:"number"},dealerCommission:{label:"Commission",type:"number"}},onClose:function(){var e=Object(ge.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}),c=Object(n.useState)(o),i=Object(j.a)(c,2),u=i[0],p=i[1];var m={open:!1,title:"Funding Request",defaultValue:{newLessor:a,newFee:"",newFundingContractId:""},fields:{newLessor:{label:"Lessor",type:"text"},newFee:{label:"Fee",type:"number"},newFundingContractId:{label:"Funding Contract ID",type:"text"}},onClose:function(){var e=Object(ge.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},d=Object(n.useState)(m),f=Object(j.a)(d,2),b=f[0],g=f[1];return r.a.createElement(ye.a,null,r.a.createElement(Ee.a,null,r.a.createElement(ze,u),r.a.createElement(ze,b),r.a.createElement(z.a,{color:"primary",size:"small",className:t.choiceButton,variant:"contained",onClick:function(){return function(){function e(){return(e=Object(ge.a)(be.a.mark((function e(t){var a;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(Object(s.a)(Object(s.a)({},o),{},{open:!1})),t){e.next=3;break}return e.abrupt("return");case 3:return a=Object(s.a)({},t),e.next=6,l.create(xe.EF.EFContract,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}p(Object(s.a)(Object(s.a)({},o),{},{open:!0,onClose:function(t){return e.apply(this,arguments)}}))}()}},"Create New Asset"),r.a.createElement(he.a,{size:"small"},r.a.createElement(Ce.a,null,r.a.createElement("div",null,r.a.createElement("p",null,"RetailContracts")),r.a.createElement(ke.a,null,r.a.createElement(ve.a,{key:0}," Contract"),r.a.createElement(ve.a,{key:1}," Originator"),r.a.createElement(ve.a,{key:2}," Businesss"),r.a.createElement(ve.a,{key:3}," EF Type"),r.a.createElement(ve.a,{key:4}," Duration"),r.a.createElement(ve.a,{key:5}," Amount"),r.a.createElement(ve.a,{key:6}," Rate"),r.a.createElement(ve.a,{key:7}," Asset Type"),r.a.createElement(ve.a,{key:8}," Vin"),r.a.createElement(ve.a,{key:9}," Business Score"),r.a.createElement(ve.a,{key:10}," Commission"),r.a.createElement(ve.a,{key:11,className:t.tableCell},"Request"))),r.a.createElement(Oe.a,null,e.map((function(e){return r.a.createElement(ke.a,{key:e.contractId},r.a.createElement(ve.a,{key:0},e.contractId),r.a.createElement(ve.a,{key:1},e.payload.originator),r.a.createElement(ve.a,{key:2},e.payload.business),r.a.createElement(ve.a,{key:3},e.payload.eftype),r.a.createElement(ve.a,{key:4},e.payload.duration),r.a.createElement(ve.a,{key:5},e.payload.amount),r.a.createElement(ve.a,{key:6},e.payload.rate),r.a.createElement(ve.a,{key:7},e.payload.assetType),r.a.createElement(ve.a,{key:8},e.payload.vin),r.a.createElement(ve.a,{key:9},e.payload.businessCreditScore),r.a.createElement(ve.a,{key:10},e.payload.dealerCommission),r.a.createElement(ve.a,{key:11,className:t.tableCellButton},r.a.createElement(z.a,{color:"primary",size:"small",className:t.choiceButton,variant:"contained",onClick:function(){return function(e){function t(){return(t=Object(ge.a)(be.a.mark((function t(a){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g(Object(s.a)(Object(s.a)({},m),{},{open:!1})),a){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,l.exercise(xe.EF.EFContract.FundingRequest,e.contractId,a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}g(Object(s.a)(Object(s.a)({},m),{},{open:!0,onClose:function(e){return t.apply(this,arguments)}}))}(e)}},"Funding Request")))}))))))}function qe(e){var t=Object(n.useState)(e.defaultValue),a=Object(j.a)(t,2),l=a[0],o=a[1];var c=Object.entries(e.fields);return r.a.createElement(we.a,{open:e.open,onClose:function(){return e.onClose(null)},maxWidth:"sm",fullWidth:!0},r.a.createElement(Fe.a,null,e.title),r.a.createElement(Se.a,null,c.map((function(e,t){return function(e,t){var a=Object(j.a)(e,2),n=a[0],c=a[1];return"selection"===c.type?r.a.createElement(Ie.a,{key:t,fullWidth:!0},r.a.createElement(Ne.a,{required:!0},c.label),r.a.createElement(Ae.a,{value:l[n],defaultValue:"",onChange:function(e){return o(Object(s.a)(Object(s.a)({},l),{},Object(je.a)({},n,e.target.value)))}},c.items.map((function(e){return r.a.createElement(De.a,{key:e,value:e},e)})))):r.a.createElement(H.a,{required:!0,autoFocus:!0,fullWidth:!0,key:t,label:c.label,type:c.type,onChange:function(e){return o(Object(s.a)(Object(s.a)({},l),{},Object(je.a)({},n,e.target.value)))},InputLabelProps:{shrink:!0,required:!0},placeholder:"date"===c.type?"YYYY-MM-DD":""})}(e,t)}))),r.a.createElement(Be.a,null,r.a.createElement(z.a,{onClick:function(){return e.onClose(null)},color:"primary"},"Cancel"),r.a.createElement(z.a,{onClick:function(){return e.onClose(l)},color:"primary"},"Okay")))}var Ve=Object(W.a)((function(e){return Object(U.a)({tableCell:{verticalAlign:"top",paddingTop:6,paddingBottom:6,fontSize:"0.75rem"},tableCellButton:{verticalAlign:"center",paddingTop:0,paddingBottom:0,fontSize:"0.75rem"},tableRow:{height:"auto"},textField:{fontSize:"0.75rem"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},choiceButton:{paddingTop:0,paddingBottom:0}})})),Pe=a(75);function He(){var e=Object(J.useStreamQueries)(xe.EF.FundingContractRequest).contracts,t=Ve(),a=Object(J.useParty)(),l=(Pe.ContractId,Object(J.useLedger)()),o={open:!1,title:"Funding Approval",defaultValue:{newFundingDate:"",newDealerCommission:"",selectedlessor:a,newFundingRequestId:""},fields:{newFundingDate:{label:"FundingDate",type:"date"},newDealerCommission:{label:"Dealer Commision",type:"number"},selectedlessor:{label:"Lessor",type:"text"},newFundingRequestId:{label:"FundingRequest Contract Id",type:"text"}},onClose:function(){var e=Object(ge.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},c=Object(n.useState)(o),i=Object(j.a)(c,2),u=i[0],p=i[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(qe,u),r.a.createElement(he.a,{size:"small"},r.a.createElement(Ce.a,null,r.a.createElement(ke.a,{className:t.tableRow},r.a.createElement(ve.a,{key:0,className:t.tableCell},"Lessor"),r.a.createElement(ve.a,{key:1,className:t.tableCell},"OriginationFee"),r.a.createElement(ve.a,{key:2,className:t.tableCell},"Originator"),r.a.createElement(ve.a,{key:3,className:t.tableCell},"Approval"))),r.a.createElement(Oe.a,null,e.map((function(e){return r.a.createElement(ke.a,{key:e.contractId,className:t.tableRow},r.a.createElement(ve.a,{key:0,className:t.tableCell},e.payload.lessor),r.a.createElement(ve.a,{key:1,className:t.tableCell},e.payload.originationFee),r.a.createElement(ve.a,{key:2,className:t.tableCell},e.payload.fundingContract.originator),r.a.createElement(ve.a,{key:3,className:t.tableCellButton},r.a.createElement(z.a,{color:"primary",size:"small",className:t.choiceButton,variant:"contained",onClick:function(){return function(e){function t(){return(t=Object(ge.a)(be.a.mark((function t(a){return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p(Object(s.a)(Object(s.a)({},o),{},{open:!1})),a){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,l.exercise(xe.EF.FundingContractRequest.FundingApproval,e.contractId,a);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}p(Object(s.a)(Object(s.a)({},o),{},{open:!0,onClose:function(e){return t.apply(this,arguments)}}))}(e)}},"Approval")))})))))}var Ye=Object(W.a)((function(e){return Object(U.a)({tableCell:{verticalAlign:"top",paddingTop:6,paddingBottom:6,fontSize:"0.75rem"},tableCellButton:{verticalAlign:"center",paddingTop:0,paddingBottom:0,fontSize:"0.75rem"},tableRow:{height:"auto"},textField:{fontSize:"0.75rem"},textFieldUnderline:{"&:before":{borderBottomColor:e.palette.primary.light},"&:after":{borderBottomColor:e.palette.primary.main},"&:hover:before":{borderBottomColor:"".concat(e.palette.primary.light," !important")}},choiceButton:{paddingTop:0,paddingBottom:0}})}));function Me(){var e=Object(J.useStreamQueries)(xe.EF.FundingContractApproval).contracts,t=Ye();return r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{size:"small"},r.a.createElement(Ce.a,null,r.a.createElement(ke.a,{className:t.tableRow},r.a.createElement(ve.a,{key:0,className:t.tableCell},"Lessor"),r.a.createElement(ve.a,{key:1,className:t.tableCell},"FundingDate"),r.a.createElement(ve.a,{key:2,className:t.tableCell},"Funding Contract ID"),r.a.createElement(ve.a,{key:3,className:t.tableCell},"Amount"))),r.a.createElement(Oe.a,null,e.map((function(e){return r.a.createElement(ke.a,{key:e.contractId,className:t.tableRow},r.a.createElement(ve.a,{key:0,className:t.tableCell},e.payload.lessor),r.a.createElement(ve.a,{key:1,className:t.tableCell},e.payload.fundingDate),r.a.createElement(ve.a,{key:1,className:t.tableCell},e.payload.fundingRequestId),r.a.createElement(ve.a,{key:2,className:t.tableCell},e.payload.fundingRequest.fundingContract.amount))})))))}var Ge=Object(W.a)((function(e){return Object(U.a)({root:{display:"flex",maxWidth:"100vw",overflowX:"hidden"},content:{flexGrow:1,padding:e.spacing(3),width:"calc(100vw - ".concat(240+e.spacing(6),"px)"),minHeight:"100vh"},fakeToolbar:Object(s.a)({},e.mixins.toolbar)})})),_e=Object(y.g)((function(){var e=Ge(),t=A();return t.isAuthenticated?r.a.createElement(K.a,{party:t.party,token:t.token,httpBaseUrl:v,wsBaseUrl:void 0},r.a.createElement("div",{className:e.root},r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,null),r.a.createElement(de,null),r.a.createElement("div",{className:e.content},r.a.createElement("div",{className:e.fakeToolbar}),r.a.createElement(y.d,null,r.a.createElement(y.b,{path:"/app/wholesale",component:Le}),r.a.createElement(y.b,{path:"/app/retail",component:Ue}),r.a.createElement(y.b,{path:"/app/fundingrequest",component:He}),r.a.createElement(y.b,{path:"/app/fundingapproved",component:Me})))))):null}));function Qe(){var e=A();return r.a.createElement(g.a,null,r.a.createElement(y.d,null,r.a.createElement(y.b,{exact:!0,path:"/",component:function(){var e=N();return Object(n.useEffect)((function(){var t=new URL(window.location.toString()),a=t.searchParams.get("token");if(null!==a){var n=t.searchParams.get("party");if(null===n)throw Error("When 'token' is passed via URL, 'party' must be passed too.");localStorage.setItem("ef-app.daml.party",n),localStorage.setItem("ef-app.daml.token",a),e({type:"LOGIN_SUCCESS",token:a,party:n})}})),r.a.createElement(y.a,{to:"/app/retail"})}}),r.a.createElement(y.b,{exact:!0,path:"/app",render:function(){return r.a.createElement(y.a,{to:"/app/retail"})}}),r.a.createElement(t,{path:"/app",component:_e}),r.a.createElement(a,{path:"/login",component:Q}),r.a.createElement(y.b,{component:V})));function t(t){var a=t.component,n=Object(b.a)(t,["component"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(t){return e.isAuthenticated?r.a.createElement(a,t):r.a.createElement(y.a,{to:{pathname:"/login",state:{from:t.location}}})}}))}function a(t){var a=t.component,n=Object(b.a)(t,["component"]);return r.a.createElement(y.b,Object.assign({},n,{render:function(t){return e.isAuthenticated?r.a.createElement(y.a,{to:{pathname:"/"}}):r.a.createElement(a,t)}}))}}o.a.render(r.a.createElement(B,null,r.a.createElement(c.a,{theme:f.default},r.a.createElement(i.a,null),r.a.createElement(Qe,null))),document.getElementById("root"))}},[[316,1,2]]]);
//# sourceMappingURL=main.80e9d1b5.chunk.js.map